# 1

作者: fbk
时间：2023-2-21
地点：济南

> 足够优秀再大方拥有
## 数据的表示
- 原码
- 反码
   - 正数的原码和反码相同
   - 负数的原码`除符号位`取反
- 补码
   - 正数的补码和原码相同
   - 负数的补码是反码+1
- 移码：作为浮点运算的介码，不管是正数还是负数，都在补码的基础上对`符号位取反`
### 数据的表示范围
![](../img/2023-2-21/%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA%E8%8C%83%E5%9B%B4.png)

## 计算机结构
- 运算器
  1. 算术逻辑单元ALU： 跟运算相关
  2. 累加寄存器AC： 常用于ALU执行算数逻辑运算提供数据并暂存运算结果的寄存器
  3. 数据缓冲寄存器DR： 对内存储器进行读写操作的时候，用来暂存数据的寄存器
  4. 状态条件寄存器PSW： 记录运算中产生的标志信息，每一位单独使用，成为标志位（进位，溢出，中断…）
- 控制器：控制整个计算机各部件有条不紊的工作，其基本功能是取指令与执行指令
  1. 程序计数器PC： 用来存放指令地址，运行时用来获取下一条指令的位置。
  2. 指令寄存器IR： 存储正在执行的指令，存储位数由指令字长决定。
  3. 指令译码器ID： 分析指令的操作码，来决定操作的性质与分法。
  4. 时序部件： CPU执行指令时根据时序部件发出的时钟信号进行相应操作，在取指阶段读取指令，在分析和执行阶段读取数据。
## 流水线
- 如果把流水线的一条指令分为取值，分析和执行三部分，且三部分的时间分别是取指2ns，分析2ns，执行1ns
- 流水线周期是执行时间最长的一段，也就是2ns
- 100条指令全部执行完毕需要多长时间
  - 1条指令执行的时间`1条指令执行的时间+（指令条数-1）*流水线周期`
  - 流水线计算理论公式是`(t1+t2+...tk)+(n-1)*t`
  - 流水线计算实践公式是`(k+n-1)*t`
## 流水线吞吐率计算
## 流水线加速比
完成同样一批任务，不使用流水线所用的时间与使用流水线所用的时间之比称为流水线加速比
## 流水线的效率
流水线的设备利用率
## 层次化的存储结构
![](../img/2023-2-21/%E5%B1%82%E6%AC%A1%E5%8C%96%E7%BB%93%E6%9E%84.png)
## cahche
- cahce的功能：提高CPU的传出数据
- 子啊计算机的系统体系中，cache是访问速度最快的一层
- 使用cache改善系统性能的依据是程序的局部性原理

如果以h代表队cache的访问命中率，t1表示cache的周期时间，t2表示主存储器周期时间，以读操作为例，使用cache+主存储器的系统平均周期位t3

t3=h*t1+(1-h)*t2

1-h被称为失效率

## 局部性原理

- 空间局部性
- 时间局部性

## 主存分类

- 随机存取存储器(RAM)：断电后存储的信息丢失
- 只读存储器（ROM）：断电后存储的信息不丢失
### =主存和cache的映射关系
1. 全相联映射:主存的任意一块可以映射到cache的任意一块
2. 直接相连：主存中一块只能映射到cache的一个特定块中
3. 组相联映射：各区中某一块只能存入缓存同组号空间，但组内各块之间则可以任意存放
4. 
## 磁盘结构和参数
存取时间=寻道时间+等待时间（平均定位时间+转动延迟）
![](../img/2023-2-21/%E7%A3%81%E7%9B%98%E6%97%B6%E9%97%B4.png)
- 第一空
![](../img/2023-2-21/%E7%A3%81%E7%9B%98%E6%97%B6%E9%97%B4%E4%BE%8B1.png)
1. 开始读取R0的数据，消耗3ns的时间，但是这样的话就不能读取到R1的数据，所以圆盘需要绕一周才能读取R1的数据
2. 因为有11个扇区，所以绕一周的时间加上自己去读取的时间就是33+3
3. 一共需要自己读取10个扇区数据，因为R0是直接读的，所以只需要计算R1到R10
4. 也就是(33+3)*10+6=366


- 第二空

![](../img/2023-2-21/%E7%A3%81%E7%9B%98%E6%97%B6%E9%97%B4%E4%BE%8B2.png)
1. 这样读取也就是先读取R0的数据，然后经过3ns解析，此时数据正好经过的是R6，也就是不需要转一圈就可以接着读取R1
2. 所以时间是每个读取解析的时间6ns乘上11个

## 总线
- 内部总线
- 系统总线
  - 数据总线
  - 地址总线
  - 控制总线
- 外部总线
## 串联系统-并联系统
![](../img/2023-2-21/%E4%B8%B2%E5%B9%B6%E8%81%94.png)
## 差错控制-CRC与海明校验码
![](../img/2023-2-21/%E6%B5%B7%E6%98%8E%E6%A0%A1%E9%AA%8C%E7%A0%81.png)

校验码都是存放在2的n次方位，也就是2^r>=x+r+1

x就是信息位的个数，r就是检验位

确定校验码位3位，也就是2^3>=8,只能放在2^0,2^1,2^2这几个地方

## 进程状态转换

![](../img/2023-2-21/%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81.png)

## 进程的同步和互斥（PV）
- 互斥：千军万马过独木桥
- 同步：速度有差异，在一定情况停下等待


## PV操作
- 临界资源：诸进程间需要互斥方式对其进行共享的资源
- 临界区：每个进程中访问临界资源的那段代码称为临界区
- 信号量：是一种特殊的变量

![](../img/2023-2-21/pv.png)

p相当于把一个进程在不符合条件的情况下放入进程队列，而v操作就相当于是否取出进程队列的操作，p就是阻塞，v就是唤醒

![](../img/2023-2-21/pv%E6%A1%88%E4%BE%8B.png)
1. 如果把a1，a2，b1，b2去掉的话，可以设想一下，收银员可能会立刻执行收费，但是这样不符合逻辑
2. 所以在b1，如果没有人付款，就要一直进行p操作，直到a1有人付款，就会执行v操作唤醒b1
3. 如果有人想要离开，为了确定他是否真的付了款，所以要在a2一直等待b2提示是否付款成功，所以a2就执行p操作，b2就执行v操作


## 死锁问题

如果线程中有三个进程A,B,C,这三个进程都需要5个系统资源，那么至少需要几个资源？

- 如果只给她分配10个资源，那么334依然导致死锁问题
- 如果分配13个，那么每个我们可以给他先分配4个资源，然后最后的资源不管给谁，他都可以完成5个资源的要求，从而释放资源
- 所以公式就是`线程个数*(每个线程需要的系统资源-1)+1`
## 死锁地避免
- 有序资源分配法：先分给a，后分给b，再分给c，但是这样存在的问题就是效率太低
- 银行家算法
  - 当一个线程对资源的最大需求不超过系统中的资源数时可以接纳线程
  - 线程可以分期请求资源，但请求的总数不能超过最大需求量
  - 当线程现有的资源不能满足进程尚需资源时，对线程的请求可以延迟分配，但总能使进程在有限的时间得到资源


## 数据库
### 键
1. 超键
   - 唯一标识元组
2. 候选键
   - 消除多余属性，唯一标识元组
   - 候选键和超键的区别就是候选键要消除多余的冗余属性
   - 比如说（名字+学号）可以确定性别，那他就是超键，但它不是候选键，因为学号就可以确定性别了，再加上姓名就冗余了
3. 主键
    - 主键只能有一个
4. 外键
#### 求候选键
- 采用图示法求候选键，将给定关系采用连线的方式连接
- 筛选结果
   - 入度为0，只能它指向别人，不能别人指向它
   - 并且可以遍历整个循环

### 范式
1. 第一范式
   - 属性值都是原子不可分
2. 第二范式
   - 属性值时原子不可分，并且消除非主属性对候选键的部份依赖
3. 第三范式
   - 属性值时原子不可分，并且消除非主属性对候选键的部份依赖，消除主属性对候选键的1传递依赖
### 并发控制
1. 原子性
2. 一致性
3. 隔离性
4. 持续性

#### 并发操作和并行操作的问题
1. 丢失更新
   1. t1先读取A=10
   2. t2读取A=10
   3. t1对A-5
   5. t2对A-10
   6. 最终结果是0
   7. 这就证明了t1的结果没有修改，所以这就是丢失更新
2. 不可重复度
   1. t1读取A=20，b=30，求和是50，t1为了验证结果再次进行烟瘴
   2. t2读取A=20，将A+50变成70
   3. 验证的时候t1再次读取A=70，b=30，验证失败
3. 读脏数据
   1. t1读取A=20，将A加上50返回A=70
   2. t2读A=70
   3. t1回滚数据又让A变成20
  
#### 数据库安全
1. 用户标识和鉴定
   - 最外层的安全保护措施，可以使用用户账户、口令及随机数检验等方式
2. 存取控制
   - 对用户进行授权，包括操作类型（查找，插入，修改，删除等动作）和数据对象的权限
3. 密码储存和传输
   - 对远程中断信息用密码传输
4. 视图的保护
   - 对试图进行授权
5. 审计
   - 使用一个专用文件和数据库，自动将用户对数据库的操作记录下来
#### 冷备份
1. 冷备份是静态备份，将数据库停下来将文件备份
2. 热备份是利用备份软件在数据库正常运行的状态进行备份
![](../img/2023-2-24/%E5%86%B7%E7%83%AD%E5%A4%87%E4%BB%BD.png)
#### 数据备份
- 完全备份:备份所有的数据
- 差量备份：仅备份上一次完全备份之后的变化数据
- 增量备份：备份上一次备份之后变化的数据
![](../img/2023-2-24/%E6%95%B0%E6%8D%AE%E6%95%85%E9%9A%9C.png)
## 大数据
1. 数据量
2. 速度
3. 多样性
4. 值
## 七层模型
1. 物理层
2. 数据链路层
   - 传输以桢为单位的信息
   - 
3. 网络层
   - 分组传输和路由选择

4. 传输层
5. 会话层
6. 表示层
7. 应用层
## 网络技术标准和协议
![](../img/2023-2-24/%E7%BD%91%E7%BB%9C%E7%9A%84%E5%8D%8F%E8%AE%AE%E5%92%8C%E6%A0%87%E5%87%86.png)
- TCP/IP协议：Internet，可拓展，可靠，应用最广，牺牲速度和效率
- IPX/SPX协议：NOVELL，路由，大型企业网
- NETBEUI协议：IBM，非路由，快速
- DHCP协议：负责动态分配ip协议，服务器会自动向客户机分配ip，默认租约是8天
   - 当租约是过半，客户机要向DHCP服务器申请租约
   - 当租约超过87.5%，如果没有和当初分配ip的DHCP联系起来，则开始联系其他DHCP服务器
   - 当window下分配的ip是169.254.xx或者是0.0.0.0，这就证明你和DHCP服务器联系丢失
- DNS服务器：
  - 将ip转化为域名
  - 递归查询
    - 中间域名服务器
  - 迭代查询
    - 根域名服务器
## 网络结构-拓扑结构
- 按分布范围分
  - 局域网
  - 城域网
  - 广域网
  - 因特网
- 按拓扑结构分
  - 总线型
  - 星形
  - 环形
## 网络的规划和设计
![](../img/2023-2-24/%E7%BD%91%E7%BB%9C%E7%9A%84%E8%A7%84%E5%88%92%E5%92%8C%E8%AE%BE%E8%AE%A1.png)
## ip地址-子网划分
- 将B类IP地址168.195.0.0划分成27个子网，子网掩码为多少?

将十进制168.195.0.0改成二级制，因为是B类IP，所以默认网络标号是前16个bit位
1个bit位可以取2个子网，2个bit位可以取得4个子网，3个bit位可以取得8个子网，所以最终的计算公式是2^k=n,k代表几个bit位，n是最终的主机号，二进制中1代表网络号，0代表主机号
![](../img/2023-2-24/%E7%89%B9%E6%AE%8Aip.png)
## 网络接入技术
- 有线接入
  - 共用电话（PSTN）
  - 数字数据网（DDN）
  - 综合业务数字网（ISDN）
  - 非对称数字用户线路（ADSL）
  - 同轴光纤接入（HFC）
- 无线接入
   - WIFI
   - 蓝牙
   - 红外
   - WAPI
- 3G,4G
   - WCDMA
   - CDMA2000
   - TD-SCDMA
   - LTE-Advanced
   - WireLessMAN-Advanced
## ipv6
IPv6是替代现行版本IPv4的下一代IP协议
## 安全属性
- 保密性：最小授权原则，防暴露，信息加密，物理保密
- 完整性：安全协议，校验码，密码校验，数字签名，公证
- 可用性：综合保证
- 不可抵赖性：数字签名
## 加密技术
### 对称加密技术
- DES:替换+移位，56位密钥，64位数据块，速度快，密钥容易产生
- 3DES（3重DES）:两个56位密钥K1,K2
  - 加密：K1加密->K2解密（还是加密）->K1加密
  - 解密：K1解密->K2加密->K1解密
- AES
- RC-5
- IDEA算法：128位密钥，64位数据块，比DES加密行好
#### 缺点
1. 加密强度不高
2. 密钥分发困难
#### 优点
1. 适合数据较小的数据
### 非对称加密算法
像github上，我们每个用户都有自己的公钥和私钥，我们的公钥是可以暴露给任何人的，但是我们的私钥不能暴露给任何人，如果我们向另一个人传递数据，我们必须使用另一个人的公钥去进行加密，然后只有另一个人的私钥才能进行解密
- RSA：512位或者1024位，计算量极大，、难破解
- Elgamal
- ECC
- 背包算法
- Rabin
- D-H
### 数字签名
### 例题
要求邮件以加密方式传递，邮件最大附件内容可达500M，发送者不可抵赖，若邮件被第三方解惑，第三方无法篡改

